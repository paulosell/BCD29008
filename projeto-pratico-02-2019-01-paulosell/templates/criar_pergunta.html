{% extends "base.html" %}
{% import 'bootstrap/wtf.html' as wtf %}
{% block head %}
    {{ super() }}
    <link rel="stylesheet" type="text/css"
          href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.11.1/bootstrap-table.min.css">
{% endblock %}


{% block app_content %}

    <h1>Selecione a eleição</h1>
{#
    <form  method=post>
        <label for="sel1">Selecione a eleição:</label>
        <select class="form-control" id="sel1">
            {% for eleicao in eleicoes %}
                <option>{{ eleicao.tituloEleicao }}</option>
            {% endfor %}
        </select>
#}


   {#     <div class="row">
            <div class="col-md-4">
                <div class="form-group "><label class="control-label" for="questao">Questão</label>

                    <input class="form-control" id="questao" name="questao" type="text" value="">

                </div>


                <div class="form-group "><label class="control-label" for="min">Número mínimo de respostas</label>

                    <input class="form-control" id="min" name="min" type="text" value="">

                </div>


                <div class="form-group "><label class="control-label" for="max">Numero máximo de respostas</label>

                    <input class="form-control" id="max" name="max" type="text" value="">

                </div>

            </div>
        </div>#}

            <div class="row">
        <div class="col-md-4">
            {{ wtf.quick_form(form, button_map={'submit':'primary'}) }}
        </div>
    </div>
       {# <input class="btn btn-primary" id="submit" name="submit" type="submit" value="Ir">#}
{##}
{#    </form>#}




{% endblock %}
{#
{% block scripts %}
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js" type="text/javascript"></script>

        <script>

        var $button = $('#submit')

        $(function () {
            $button.click(function () {
                var e        = document.getElementById("sel1");
                var eleicao  = e.options[e.selectedIndex].text;
                #}
{#var pergunta = document.getElementById("questao").value#}{#

                #}
{#var min      = document.getElementById("min").value#}{#

                #}
{#var max      = document.getElementById("max").value#}{#


                var to_send = {
                    titulo_eleicao: eleicao
                    #}
{#pergunta: pergunta,#}{#

                    #}
{#min: min,#}{#

                    #}
{#max: max#}{#

                }

                var row_data = JSON.stringify(to_send);
                $.ajax({
                    type: 'POST',
                    contentType: 'application/json',
                    data: row_data,
                    dataType: 'json',
                    url: 'http://127.0.0.1:5000/criar_perguntas'
                });
                console.log(row_data);


            })
        })
    </script>

{% endblock %}#}
